package com.clinica.pacientes.controller.modelmapper;

import java.util.List;

import org.modelmapper.ModelMapper;
import org.springframework.stereotype.Component;

import com.clinica.pacientes.domain.dto.PatientDTOInput;
import com.clinica.pacientes.domain.dto.PatientDTOOutput;
import com.clinica.pacientes.domain.model.Patient;

import lombok.RequiredArgsConstructor;

@Component
@RequiredArgsConstructor
public class PatientMapper {

	final private ModelMapper mapper;
	
	public Patient toEntity(PatientDTOInput PatientInput) {
		return mapper.map(PatientInput, Patient.class);
	}
	
	public PatientDTOOutput toDTO (Patient Patient) {
		return mapper.map(Patient, PatientDTOOutput.class);
	}
	
	public void copyToDomain(PatientDTOInput PatientInput, Patient Patient) {
		mapper.map(PatientInput, Patient);
	}
	
	public List<PatientDTOOutput> toDTOCollection(List<Patient> PatientList){
		return PatientList.stream()
				.map((Patient) -> toDTO(Patient)).toList();
	}
}
